self.addEventListener("push",(i=>{let t={};i.data&&(t=i.data.json());const n=t.title||"Notifikasi Baru!",o={body:t.body||"Ada notifikasi baru untukmu!",icon:t.icon||"/icons/icon-192x192.png",badge:t.badge||"/icons/badge-icon.png",data:{url:t.url||"/"}};i.waitUntil(self.registration.showNotification(n,o))})),self.addEventListener("notificationclick",(i=>{i.notification.close();const t=i.notification.data.url||"/";i.waitUntil(clients.matchAll({type:"window"}).then((i=>{for(const n of i)if(n.url===t&&"focus"in n)return n.focus();return clients.openWindow(t)})))}));